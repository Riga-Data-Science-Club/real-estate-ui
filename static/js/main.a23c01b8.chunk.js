(this["webpackJsonpriga-real-estate-ui"]=this["webpackJsonpriga-real-estate-ui"]||[]).push([[0],{104:function(e,t){e.exports={GOOGLE_MAP_API_KEY:"AIzaSyB_xFxo_VBEj2rI21-zA9WIDCsvAlhhaN0"}},105:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(9),o=a.n(r),i=(a(89),a(90),a(12)),c=a(157),u=a(149),s=a(158),m=a(159),d=a(155),g=a(4),p=a(144),f=Object(g.a)((function(){return{root:{minWidth:120,width:"100%",textAlign:"left",marginBottom:10,padding:0}}}))(p.a),v=[{label:"Lietuvie\u0161u projekts",value:"LT proj."},{label:"602. s\u0113rija",value:"602."},{label:"Pirmskara m\u0101ja",value:"P. kara"},{label:"Jaunb\u016bve",value:"Jaun."},{label:"Specprojects",value:"Specpr."},{label:"Hru\u0161\u010dova laika projekts",value:"Hru\u0161\u010d."},{label:"119. s\u0113rija",value:"119."},{label:"Maz\u0123ime\u0146u projekts",value:"M. \u0123im."},{label:"Renov\u0113t\u0101 m\u0101ja",value:"Renov."},{label:"103. s\u0113rija",value:"103."},{label:"Priv\u0101tm\u0101ja",value:"Priv. m."},{label:"467. s\u0113rija",value:"467."},{label:"Sta\u013cina laika m\u0101ja",value:"Sta\u013cina"},{label:"104. s\u0113rija",value:"104."},{label:"\u010cehu projekts",value:"\u010cehu pr."}];function b(e){var t=e.value,a=e.onChange;return l.a.createElement(f,{variant:"outlined"},l.a.createElement(s.a,null,"House series"),l.a.createElement(d.a,{value:t,onChange:a,label:"House series"},v.map((function(e){return l.a.createElement(m.a,{key:e.value,value:e.value},e.label)}))))}var E=[{label:"Kie\u0123e\u013cu-pane\u013cu",value:"Brick-Panel"},{label:"Lielpane\u013cu",value:"Panel"},{label:"Koka",value:"Wood"},{label:"M\u016bra",value:"Masonry"},{label:"Kie\u0123e\u013cu-pane\u013cu",value:"Brick"},{label:"Pane\u013cu-kie\u0123elu",value:"Panel-Brick"}];function h(e){var t=e.value,a=e.onChange;return l.a.createElement(f,{variant:"outlined"},l.a.createElement(s.a,null,"House type"),l.a.createElement(d.a,{value:t,onChange:a,label:"House type"},E.map((function(e){return l.a.createElement(m.a,{key:e.value,value:e.value},e.label)}))))}var j=a(154),O=a(66),w=a.n(O),x=Object(u.a)({stepContainer:{width:"100%",maxWidth:"300px",paddingRight:"15px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",alignContent:"center",flexWrap:"wrap"},stepHeader:{width:"100%",marginLeft:"3px",display:"flex",flexDirection:"row",justifyContent:"space-between",alignContent:"center",justifyItems:"center",alignItems:"center"},stepHeaderTitle:{marginLeft:"3px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",alignContent:"center"},stepTitle:{marginLeft:"3px"},stepCompleteIcon:{color:function(e){return e.complete?"#18ac2f":"#dddddd"},fontWeight:"900"}});function y(e){var t=e.children,a=e.icon,n=e.title,r=e.complete,o=e.hideCompleteIcon,i=void 0!==o&&o,c=x({complete:r});return l.a.createElement("div",{className:c.stepContainer},l.a.createElement("div",{className:c.stepHeader},l.a.createElement("div",{className:c.stepHeaderTitle},a,l.a.createElement("h3",{className:c.stepTitle},n)),!i&&l.a.createElement("div",{className:c.stepCompleteIcon},l.a.createElement(w.a,null))),t)}var C=a(47),S=a(156),I=a(46),N=a.n(I),_=a(150),k=a(151),P=a(67),T=a.n(P),R=a(45),L=a.n(R),A=a(50),F=a.n(A),M=l.a.createContext(F.a);function D(){var e=l.a.useContext(M);if(!e)throw new Error("useConfig must be used within a ConfigProvider");return e}function W(e){var t=e.value,a=e.children;return l.a.createElement(M.Provider,{value:t||F.a},a)}var B={current:null},G=Object(u.a)((function(e){return{icon:{color:e.palette.text.secondary,marginRight:e.spacing(2)}}}));function H(e){var t=e.value,a=e.setValue,n=D(),r=G(),o=l.a.useState(""),u=Object(i.a)(o,2),s=u[0],m=u[1],d=l.a.useState([]),g=Object(i.a)(d,2),p=g[0],f=g[1],v=(l.a.useRef(!1),l.a.useMemo((function(){return L()((function(e,t){B.current.getPlacePredictions(e,t)}),200)}),[]));return l.a.useEffect((function(){var e=!0;if(!B.current&&window.google&&(B.current=new window.google.maps.places.AutocompleteService),B.current){var a=new window.google.maps.LatLng(n.RIGA_CENTER_LATITUDE,n.RIGA_CENTER_LONGITUDE);if(""!==s){var l=new window.google.maps.Circle({center:a,radius:12e3});return v({input:s,bounds:l.getBounds(),strictbounds:!0,types:["address"],language:"lv"},(function(a){if(e){var n=[];t&&(n=[t]),a&&(n=[].concat(Object(C.a)(n),Object(C.a)(a))),f(n)}})),function(){e=!1}}f(t?[t]:[])}}),[t,s,v]),l.a.createElement(S.a,{id:"google-map-demo",fullWidth:!0,getOptionLabel:function(e){return"string"===typeof e?e:e.description},filterOptions:function(e){return e},options:p,autoComplete:!0,includeInputInList:!0,filterSelectedOptions:!0,noOptionsText:"Start typing...",value:t,onChange:function(e,t){f(t?[t].concat(Object(C.a)(p)):p),a(t)},onInputChange:function(e,t){m(t)},renderInput:function(e){return l.a.createElement(c.a,Object.assign({},e,{label:"Please enter the address",variant:"outlined",fullWidth:!0}))},renderOption:function(e){var t=e.structured_formatting.main_text_matched_substrings,a=T()(e.structured_formatting.main_text,t.map((function(e){return[e.offset,e.offset+e.length]})));return l.a.createElement(_.a,{container:!0,alignItems:"center"},l.a.createElement(_.a,{item:!0},l.a.createElement(N.a,{className:r.icon})),l.a.createElement(_.a,{item:!0,xs:!0},a.map((function(e,t){return l.a.createElement("span",{key:t,style:{fontWeight:e.highlight?700:400}},e.text)})),l.a.createElement(k.a,{variant:"body2",color:"textSecondary"},e.structured_formatting.secondary_text)))}})}var U=a(152),z=Object(u.a)((function(){return{locationContainer:{width:"100%",textAlign:"center"},locationButton:{marginTop:"10px"}}})),J={current:null};function K(e){var t=e.location,a=e.setLocation,r=e.map,o=D(),c=z({location:t,config:o}),u=Object(n.useState)(!1),s=Object(i.a)(u,2),m=s[0],d=s[1],g=Object(n.useState)(null),p=Object(i.a)(g,2),f=p[0],v=p[1],b=Object(n.useState)(null),E=Object(i.a)(b,2);E[0],E[1];l.a.useEffect((function(){navigator.geolocation&&d(!0)}),[m,d]);var h=l.a.useMemo((function(){return L()((function(e,t){J.current.getDetails(e,t)}),200)}),[]);function j(e){return Math.round(1e6*e)/1e6}function O(e){v(null),a(e.coords)}return l.a.useEffect((function(){!J.current&&window.google&&r&&(J.current=new window.google.maps.places.PlacesService(r)),J.current&&f&&h({placeId:f.place_id,fields:["geometry"]},(function(e,t){if(t==window.google.maps.places.PlacesServiceStatus.OK){var n=e.geometry.location.lat(),l=e.geometry.location.lng();a({latitude:n,longitude:l})}}))}),[r,f,h]),l.a.createElement("div",{className:c.locationContainer},l.a.createElement(H,{value:f,setValue:function(e){v(e)}}),m&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{style:{margin:"2px 0",fontSize:"12px"}},"or"),l.a.createElement(U.a,{className:c.locationButton,variant:"contained",color:"default",size:"large",fullWidth:!0,onClick:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(O):console.error("Geolocation is not supported by this browser.")}},"Use device location")),t&&t.latitude&&t.longitude&&l.a.createElement("p",null,j(t.latitude),"\xb0 N, ",j(t.longitude),"\xb0 E"))}var V=a(70),Y=a.n(V),$=a(71),q=a.n($),Q=a(72),X=a.n(Q),Z=a(153),ee=a(69),te=Object(u.a)({map:{width:"100%",height:"70vh"}});function ae(e){var t=e.map,a=e.setMap,r=e.location,o=e.setLocation,i=te(),c=D(),u=Object(n.createRef)(),s=Object(n.useRef)([]);return l.a.useEffect((function(){window.google&&a(new window.google.maps.Map(u.current,{center:{lat:c.RIGA_CENTER_LATITUDE,lng:c.RIGA_CENTER_LONGITUDE},zoom:15,fullscreenControl:!1,streetViewControl:!1,mapTypeControl:!1}))}),[a,c.RIGA_CENTER_LATITUDE,c.RIGA_CENTER_LONGITUDE]),l.a.useEffect((function(){if(r&&r.latitude&&r.longitude){!function(e){var t,a=Object(ee.a)(e);try{for(a.s();!(t=a.n()).done;){t.value.setMap(null)}}catch(n){a.e(n)}finally{a.f()}}(s.current);var e=new window.google.maps.Marker({map:t,draggable:!0,position:{lat:r.latitude,lng:r.longitude}});t.panTo(e.getPosition()),window.google.maps.event.addListener(e,"dragend",(function(){var t=e.getPosition().lat(),a=e.getPosition().lng();o({latitude:t,longitude:a})})),s.current.push(e)}}),[r,o]),l.a.createElement("div",{ref:u,className:i.map})}var ne=Object(u.a)((function(){return{root:{width:"100%"},header:{textAlign:"left"},controls:{width:"100%",margin:"0 auto",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-start",alignContent:"center",flexWrap:"wrap"},textField:{width:"100%",margin:0},predictions:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},prediction:{width:"100%",margin:"15px",textAlign:"center"},ai:{margin:"8px",width:"80px",height:"80px",backgroundImage:"url(".concat("","/images/avatar/ai.png)"),backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}})),le=new Intl.NumberFormat("en-US",{style:"currency",currency:"EUR"});function re(){var e=ne(),t=Object(n.useState)(null),a=Object(i.a)(t,2),r=a[0],o=a[1],u=Object(n.useState)(2),s=Object(i.a)(u,2),m=s[0],d=(s[1],Object(n.useState)(null)),g=Object(i.a)(d,2),p=g[0],v=g[1],E=Object(n.useState)(50),O=Object(i.a)(E,2),w=O[0],x=O[1],C=Object(n.useState)(5),S=Object(i.a)(C,2),I=S[0],P=S[1],T=Object(n.useState)(2),R=Object(i.a)(T,2),L=R[0],A=R[1],F=Object(n.useState)(9),M=Object(i.a)(F,2),D=M[0],W=M[1],B=Object(n.useState)("All, amenities"),G=Object(i.a)(B,2),H=G[0],U=(G[1],Object(n.useState)("Panel")),z=Object(i.a)(U,2),J=z[0],V=z[1],$=Object(n.useState)("119."),Q=Object(i.a)($,2),ee=Q[0],te=Q[1],re=Object(n.useState)("Purvciems"),oe=Object(i.a)(re,2),ie=oe[0],ce=(oe[1],Object(n.useState)(!1)),ue=Object(i.a)(ce,2),se=ue[0],me=ue[1],de=Object(n.useState)(null),ge=Object(i.a)(de,2),pe=ge[0],fe=ge[1],ve=function(e){return{op_type:[e],district:[ie],street:[""],rooms:[L],area:[w],floor:[I],total_floors:[D],house_seria:[ee],house_type:[J],condition:[H],lat:[p.latitude],lon:[p.longitude]}};return Object(n.useEffect)((function(){w&&I&&L&&D&&H&&J&&ee&&ie&&p&&p.latitude&&p.longitude&&(me(!0),fe(null),fetch("https://api.rigadsclub.com/v1/models/riga:predict",{method:"POST",body:JSON.stringify({instances:[ve("For sale"),ve("For rent")]})}).then((function(e){return e.json()})).then((function(e){fe(e.predictions),me(!1)})).catch((function(e){console.log(e),me(!1)})))}),[w,I,L,D,H,J,ee,ie,p,fe]),l.a.createElement("div",{className:e.root},l.a.createElement(ae,{map:r,setMap:o,location:p,setLocation:v}),l.a.createElement(Z.a,null,l.a.createElement(k.a,{variant:"subtitle1",gutterBottom:!0},"Complete few fields below to get rent and sale price estimation for any property located in Riga, Latvia:"),l.a.createElement(_.a,{container:!0,spacing:1},l.a.createElement(_.a,{item:!0,xl:3,lg:3,md:4,sm:6,xs:12,spacing:3},l.a.createElement(y,{icon:l.a.createElement(N.a,null),title:"Real estate location",complete:p},l.a.createElement(K,{map:r,location:p,setLocation:v}))),l.a.createElement(_.a,{item:!0,xl:3,lg:3,md:4,sm:6,xs:12,spacing:3},m&&l.a.createElement(y,{icon:l.a.createElement(Y.a,null),title:"House properties",complete:ee&&J&&D},l.a.createElement(b,{value:ee,onChange:function(e){return te(e.target.value)}}),l.a.createElement(h,{value:J,onChange:function(e){return V(e.target.value)}}),l.a.createElement(f,null,l.a.createElement(c.a,{className:e.textField,label:"Floor count",type:"number",variant:"outlined",value:D.toString(),onChange:function(e){return W(parseInt(e.target.value))}})))),l.a.createElement(_.a,{item:!0,xl:3,lg:3,md:4,sm:6,xs:12,spacing:3},m&&l.a.createElement(y,{icon:l.a.createElement(q.a,null),title:"Flat properties",complete:I&&w&&L},l.a.createElement(f,{variant:"outlined"},l.a.createElement(c.a,{className:e.textField,label:"Floor",type:"number",variant:"outlined",value:I.toString(),onChange:function(e){return P(parseInt(e.target.value))}})),l.a.createElement(f,{variant:"outlined"},l.a.createElement(c.a,{className:e.textField,label:"Area",type:"number",variant:"outlined",value:w.toString(),onChange:function(e){return x(parseInt(e.target.value))}})),l.a.createElement(f,{variant:"outlined"},l.a.createElement(c.a,{className:e.textField,label:"Room count",type:"number",variant:"outlined",value:L.toString(),onChange:function(e){return A(parseInt(e.target.value))}})))),l.a.createElement(_.a,{item:!0,xl:3,lg:3,md:4,sm:6,xs:12,spacing:3},l.a.createElement(y,{icon:l.a.createElement(X.a,null),title:"Prediction",hideCompleteIcon:!0},se&&l.a.createElement(j.a,null),pe&&l.a.createElement("div",{className:e.predictions},l.a.createElement("div",{className:e.prediction},"For sale:",l.a.createElement("h2",{style:{margin:3}},le.format(pe[0][0]))),l.a.createElement("div",{className:e.prediction},"For rent:",l.a.createElement("h2",{style:{margin:3}},le.format(pe[1][0])))))))))}var oe=function(){return l.a.createElement(W,null,l.a.createElement(re,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},50:function(e,t,a){e.exports=a(104)},84:function(e,t,a){e.exports=a(105)},89:function(e,t,a){},90:function(e,t,a){}},[[84,1,2]]]);
//# sourceMappingURL=main.a23c01b8.chunk.js.map